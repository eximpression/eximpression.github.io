define("pan-center:widget/tools/cross-domain-outer.js",function(t,e,n){var i={postMessage:function(t,e){return"object"==typeof t&&(t=this.stringify(t)),"string"==typeof t&&e?(this.sendMessage(t,e),void this.dispatchEvent("PostMessage",[t,e])):(this.dispatchEvent("Error",["发送的信息格式出现问题"]),void this.DEBUG)},setEventDelegate:function(t){this.eventDelegate=t},DEBUG:!1,eventDelegate:this,stringify:function(t){var e=typeof t,n=i.stringify;if("object"!==e||null==t)return"string"===e&&(t='"'+t+'"'),String(t);if("object"==typeof JSON&&JSON.stringify)return JSON.stringify(t);var s,o=[],a=t&&t.constructor===Array;for(var r in t)s=t[r],e=typeof s,t.hasOwnProperty(r)&&("string"===e?s='"'+s+'"':"object"===e&&null!=s&&(s=n(s)),o.push((a?"":'"'+r+'":')+String(s)));return(a?"[":"{")+String(o)+(a?"]":"}")},parseJSON:function(t){return"object"==typeof t?t:"string"==typeof t&&t?new Function("return "+t)():null},dispatchEvent:function(t,e){var n=this;return this.eventDelegate&&(n=this.eventDelegate),"function"==typeof n["on"+t]?(n.DEBUG,"[object Array]"===Object.prototype.toString.call(e)||"object"==typeof e&&e.length?n["on"+t].apply(n,e):n["on"+t].apply(n),n):(n.DEBUG,!1)},supportPostMessage:function(){if(window.postMessage)try{if(window.postMessage.toString().indexOf("[native code]")>=0)return!0;this.dispatchEvent("Warn",["浏览器原生的postMessage方法似乎已被覆盖，跨域模块可能工作不正常"])}catch(t){return!0}return!1}.call(this),bind:function(t,e,n){t&&"function"==typeof n&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n))},sendMessage:function(t,e){this.DEBUG,this.supportPostMessage?e.postMessage(t,"*"):e.name=t},init:function(t){var e=this;this.eventDelegate=this,this.DEBUG=t;var n=function(t){"event"===t.type?e.dispatchEvent(t.eventName,[t.param]):e.dispatchEvent("Message",[t])};this.supportPostMessage?this.bind(window,"message",function(t){if(t.data){if(/^\[LBSCASHIER]/.test(t.data))return;try{var i=e.parseJSON(t.data);n(i)}catch(s){}}}):(window.name="",e.windowName=window.name,setInterval(function(){if(window.name!==e.windowName&&""!==window.name){if(/^\[LBSCASHIER]/.test(e.windowName=window.name))return;try{var t=e.parseJSON(e.windowName);n(t),setTimeout(function(){window.name="",e.windowName=""},20)}catch(i){}}},100))}};i.init(),n.exports=i});